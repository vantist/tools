# Git Auto-Commit Tool

ä¸€å€‹ä½¿ç”¨ Rust é–‹ç™¼çš„æ™ºæ…§å‹ Git è‡ªå‹• commit å·¥å…·ï¼Œå¯ä»¥æ ¹æ“š staged çš„è®Šæ›´è‡ªå‹•ç”¢ç”Ÿ commit è¨Šæ¯å’Œåˆ†æ”¯åç¨±å»ºè­°ã€‚

## åŠŸèƒ½ç‰¹è‰²

- ğŸ¤– è‡ªå‹•åˆ†æ `git diff --staged` çš„è®Šæ›´å…§å®¹
- ğŸ’¬ æ™ºæ…§ç”¢ç”Ÿ 3 å€‹ç¹é«”ä¸­æ–‡ commit è¨Šæ¯å»ºè­°
- ğŸŒ¿ æ™ºæ…§ç”¢ç”Ÿ 3 å€‹åˆ†æ”¯åç¨±å»ºè­°
- ğŸ¯ äº’å‹•å¼é¸å–®ä»‹é¢ï¼Œæ–¹ä¾¿é¸æ“‡
- âœ¨ æ”¯æ´è‡ªè¨‚ commit è¨Šæ¯å’Œåˆ†æ”¯åç¨±
- ğŸ¨ ç¾è§€çš„å‘½ä»¤åˆ—ä»‹é¢ï¼ˆä½¿ç”¨è‰²å½©æ¨™ç¤ºï¼‰
- ğŸ¦€ ä½¿ç”¨ Rust é–‹ç™¼ï¼ŒåŸ·è¡Œå¿«é€Ÿä¸”å®‰å…¨

## å®‰è£æ–¹å¼

### å¾åŸå§‹ç¢¼ç·¨è­¯

```bash
# å…‹éš†å°ˆæ¡ˆ
git clone https://github.com/vantist/tools.git
cd tools

# ç·¨è­¯ï¼ˆéœ€è¦å…ˆå®‰è£ Rustï¼‰
cargo build --release

# å¯åŸ·è¡Œæª”ä½æ–¼ target/release/git-auto-commit
# å¯ä»¥å°‡å®ƒè¤‡è£½åˆ° PATH ä¸­çš„ç›®éŒ„ï¼Œä¾‹å¦‚ï¼š
sudo cp target/release/git-auto-commit /usr/local/bin/
```

### å®‰è£ Rust

å¦‚æœé‚„æ²’æœ‰å®‰è£ Rustï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£ï¼š

```bash
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

## ä½¿ç”¨æ–¹å¼

1. å…ˆå°‡è¦ commit çš„æª”æ¡ˆåŠ å…¥ staging areaï¼š
```bash
git add .
# æˆ–
git add <æª”æ¡ˆåç¨±>
```

2. åŸ·è¡Œ git-auto-commitï¼š
```bash
git-auto-commit
```

3. è·Ÿéš¨äº’å‹•å¼é¸å–®æ“ä½œï¼š
   - é¸æ“‡æ˜¯å¦è¦åˆ‡æ›åˆ°æ–°åˆ†æ”¯ï¼ˆæˆ–ä¿æŒç•¶å‰åˆ†æ”¯ï¼‰
   - é¸æ“‡ commit è¨Šæ¯ï¼ˆæˆ–è‡ªè¨‚ï¼‰
   - ç¢ºèªå¾ŒåŸ·è¡Œ commit

## ä½¿ç”¨ç¯„ä¾‹

```bash
# 1. ä¿®æ”¹ä¸€äº›æª”æ¡ˆ
$ echo "test" > test.txt

# 2. åŠ å…¥ staging area
$ git add test.txt

# 3. åŸ·è¡Œè‡ªå‹• commit
$ git-auto-commit

ğŸš€ Git è‡ªå‹• Commit å·¥å…·

ç•¶å‰åˆ†æ”¯ï¼šmain

ğŸ“ Staged æª”æ¡ˆï¼š
  - test.txt

? é¸æ“‡åˆ†æ”¯ï¼š 
  > ä¿æŒç•¶å‰åˆ†æ”¯ (main)
    --- å»ºè­°çš„åˆ†æ”¯åç¨± ---
    1. feature/update-20251104
    2. refactor/improve-code-20251104
    3. chore/maintenance-20251104
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    è‡ªè¨‚åˆ†æ”¯åç¨±

? é¸æ“‡ Commit è¨Šæ¯ï¼š 
    --- å»ºè­°çš„ Commit è¨Šæ¯ ---
  > 1. æ–°å¢ï¼šæ·»åŠ  test.txt
    2. æ›´æ–°ï¼šæ›´æ–°å°ˆæ¡ˆæª”æ¡ˆ
    3. æ”¹é€²ï¼šæ”¹å–„ç¨‹å¼ç¢¼å“è³ª
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    è‡ªè¨‚ Commit è¨Šæ¯

? ç¢ºèªè¦ commitï¼Ÿ
  è¨Šæ¯ï¼šæ–°å¢ï¼šæ·»åŠ  test.txt â€º yes

âœ“ Commit æˆåŠŸï¼
  è¨Šæ¯ï¼šæ–°å¢ï¼šæ·»åŠ  test.txt
```

## é–‹ç™¼

```bash
# åŸ·è¡Œé–‹ç™¼ç‰ˆæœ¬
cargo run

# åŸ·è¡Œæ¸¬è©¦
cargo test

# å»ºç«‹ release ç‰ˆæœ¬
cargo build --release
```

## æŠ€è¡“ç´°ç¯€

- **ç¨‹å¼èªè¨€**ï¼šRust
- **ä¸»è¦ç›¸ä¾å¥—ä»¶**ï¼š
  - `git2` - Git å‡½å¼åº«
  - `dialoguer` - äº’å‹•å¼å‘½ä»¤åˆ—ä»‹é¢
  - `colored` - çµ‚ç«¯æ©Ÿè‰²å½©è¼¸å‡º
  - `chrono` - æ—¥æœŸæ™‚é–“è™•ç†
  - `anyhow` - éŒ¯èª¤è™•ç†

## æˆæ¬Š

ISC License